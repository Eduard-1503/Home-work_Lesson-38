ДЗ №25: Настраиваем бэкапы

Цель домашнего задания: Научиться настраивать VLAN и LACP.
Описание домашнего задания:
  Настроить стенд Vagrant:
  - с двумя виртуальными машинами Server-backup и Client;
  - настроить удаленный бэкап каталога /etc c Client-а при помощи borgbackup; 
  - резервные копии должны соответствовать следующим критериям:
    - директория для резервных копий /var/backup. Это должна быть отдельная точка монтирования, для демонстрации размер не принципиален, достаточно будет и 2GB;
    - репозиторий для резервных копий должен быть зашифрован ключом или паролем;
    - имя бэкапа должно содержать информацию о времени снятия бекапа;
    - глубина бекапа должна быть год, по последней копии на конец месяца, последние три месяца должны содержать копии на каждый день;
    - в целях демонстрации резервная копия снимается каждые 5 минут;
    - написан скрипт для снятия резервных копий, скрипт запускается либо Cron-ом, либо systemd timer-ом;
    - настроено логирование процесса бекапа, если настроите не в syslog, то обязательна ротация логов.

Для проверки представляю:
  - Vagrantfile разворачивающий два сервера Server-backup и Client;
  - playbook.yaml и файл-инветори hosts, с помощью которых производится доустановка необходимых пакетов и начальная конфигурация серверов, после завершения плейбука необходимо инициализировать репозиторий для бэкапов командой borg init --encryption=repokey borg@192.168.56.9:/var/backup/Client/;
  - playbook_cron.yaml и скрипт borg-backup.sh для настройки и выполнения бэкапов и ротации лог-файлов Cron-ом. 

P.S.: 
  - для более упорядоченного хранения бэкапов репозиторий был создан в каталоге /var/backup/Client; 
  - для наглядности удаления старых бэкапов добавил правило хранить 2 последнии копии за текущий час;
  - не смог реализовать инициализацию репозитория из плейбука, если такое возможно прошу пояснить как это сделать. 
